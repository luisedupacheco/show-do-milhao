<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passa ou Repassa - Quiz Interativo</title>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --azul-primario: #0a1628;
            --azul-secundario: #1a3a6e;
            --dourado: #ffc600;
            --vermelho: #e63946;
            --vermelho-escuro: #9d0208;
            --azul-time: #0077b6;
            --azul-time-escuro: #023e8a;
            --verde: #2ecc71;
            --branco: #ffffff;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--azul-primario) 0%, #000814 50%, #001233 100%);
            min-height: 100vh;
            color: var(--branco);
            overflow-x: hidden;
        }

        /* Part√≠culas de fundo animadas */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--dourado);
            border-radius: 50%;
            animation: float 15s infinite;
            opacity: 0.3;
        }

        @keyframes float {
            0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.3; }
            90% { opacity: 0.3; }
            100% { transform: translateY(-100vh) rotate(720deg); opacity: 0; }
        }

        /* Header com logo */
        .header {
            text-align: center;
            padding: 15px;
            position: relative;
            z-index: 10;
        }

        .logo-img {
            max-width: 280px;
            height: auto;
            filter: drop-shadow(0 0 20px rgba(255, 198, 0, 0.5));
            animation: logo-glow 2s ease-in-out infinite alternate;
        }

        @keyframes logo-glow {
            from { filter: drop-shadow(0 0 15px rgba(255, 198, 0, 0.4)); }
            to { filter: drop-shadow(0 0 30px rgba(255, 198, 0, 0.8)); }
        }

        /* Container principal */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px 20px;
            position: relative;
            z-index: 10;
        }

        /* Placar dos times */
        .scoreboard {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            gap: 20px;
        }

        .team-score {
            flex: 1;
            padding: 15px 25px;
            border-radius: 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .team-score::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, rgba(255,255,255,0.1) 0%, transparent 100%);
            pointer-events: none;
        }

        .team-red {
            background: linear-gradient(135deg, var(--vermelho) 0%, var(--vermelho-escuro) 100%);
            border: 3px solid var(--vermelho);
            box-shadow: 0 0 30px rgba(230, 57, 70, 0.4);
        }

        .team-blue {
            background: linear-gradient(135deg, var(--azul-time) 0%, var(--azul-time-escuro) 100%);
            border: 3px solid var(--azul-time);
            box-shadow: 0 0 30px rgba(0, 119, 182, 0.4);
        }

        .team-score.active {
            transform: scale(1.08);
            animation: pulse-team 0.8s ease-in-out infinite;
        }

        .team-red.active {
            box-shadow: 0 0 80px rgba(230, 57, 70, 1), inset 0 0 40px rgba(255,255,255,0.3);
            border-color: #fff;
        }

        .team-blue.active {
            box-shadow: 0 0 80px rgba(0, 119, 182, 1), inset 0 0 40px rgba(255,255,255,0.3);
            border-color: #fff;
        }

        @keyframes pulse-team {
            0%, 100% { transform: scale(1.08); }
            50% { transform: scale(1.12); }
        }

        .team-name {
            font-family: 'Russo One', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .team-points {
            font-size: 3.5rem;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        /* Timer central */
        .timer-container {
            text-align: center;
            padding: 12px 35px;
            background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
            border-radius: 15px;
            border: 3px solid var(--dourado);
            box-shadow: 0 0 30px rgba(255, 198, 0, 0.3);
            min-width: 180px;
        }

        .timer-label {
            font-size: 0.85rem;
            color: var(--dourado);
            letter-spacing: 3px;
            margin-bottom: 3px;
        }

        .timer-display {
            font-family: 'Russo One', sans-serif;
            font-size: 3rem;
            color: var(--branco);
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .timer-display.warning {
            color: var(--dourado);
            animation: timer-pulse 0.5s ease-in-out infinite;
        }

        .timer-display.danger {
            color: var(--vermelho);
            animation: timer-pulse 0.3s ease-in-out infinite;
        }

        @keyframes timer-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* √Årea da pergunta */
        .question-area {
            background: linear-gradient(180deg, rgba(26, 58, 110, 0.95) 0%, rgba(10, 22, 40, 0.98) 100%);
            border-radius: 20px;
            padding: 25px 30px;
            margin-bottom: 20px;
            border: 3px solid rgba(255, 198, 0, 0.5);
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.6);
            position: relative;
            overflow: hidden;
        }

        .question-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
            animation: shimmer 4s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .question-number {
            display: inline-block;
            background: var(--dourado);
            color: #000;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1rem;
            letter-spacing: 1px;
        }

        .question-status {
            font-size: 0.9rem;
            color: var(--dourado);
            letter-spacing: 2px;
        }

        .question-text {
            font-size: 2rem;
            font-weight: 700;
            line-height: 1.4;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: pre-line;
            position: relative;
            z-index: 1;
        }

        /* Anima√ß√£o de digita√ß√£o da pergunta */
        .question-text.typing {
            animation: typing-glow 0.5s ease-in-out infinite alternate;
        }

        @keyframes typing-glow {
            from { text-shadow: 0 0 10px rgba(255, 255, 255, 0.3); }
            to { text-shadow: 0 0 25px rgba(255, 255, 255, 0.6); }
        }

        /* Op√ß√µes de resposta */
        .options-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .option {
            background: linear-gradient(135deg, #c1121f 0%, #780000 100%);
            border: none;
            border-radius: 15px;
            padding: 18px 22px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateX(-50px);
        }

        .option.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(180deg, rgba(255,255,255,0.15) 0%, transparent 100%);
            pointer-events: none;
        }

        .option:hover:not(:disabled).visible {
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 8px 30px rgba(193, 18, 31, 0.6);
        }

        .option:disabled {
            cursor: default;
        }

        .option.correct {
            background: linear-gradient(135deg, var(--verde) 0%, #1a8f4a 100%) !important;
            animation: correct-answer 0.6s ease-in-out;
            box-shadow: 0 0 40px rgba(46, 204, 113, 0.8);
        }

        .option.wrong {
            background: linear-gradient(135deg, #555 0%, #333 100%) !important;
            animation: wrong-answer 0.6s ease-in-out;
        }

        .option.selected {
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.8), inset 0 0 20px rgba(255, 255, 255, 0.2);
            border: 3px solid var(--branco);
        }

        @keyframes correct-answer {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.05); }
            50% { transform: scale(1.08); }
            75% { transform: scale(1.05); }
        }

        @keyframes wrong-answer {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        .option-number {
            width: 50px;
            height: 50px;
            background: var(--dourado);
            color: #000;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Russo One', sans-serif;
            font-size: 1.6rem;
            flex-shrink: 0;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.3);
        }

        .option-text {
            font-size: 1.4rem;
            font-weight: 700;
            text-align: left;
            flex: 1;
        }

        /* Painel de valores */
        .values-panel {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .value-box {
            background: linear-gradient(180deg, var(--dourado) 0%, #cc9900 100%);
            color: #000;
            padding: 12px 25px;
            border-radius: 10px;
            text-align: center;
            min-width: 110px;
            box-shadow: 0 5px 20px rgba(255, 198, 0, 0.3);
            transition: all 0.3s ease;
        }

        .value-amount {
            font-family: 'Russo One', sans-serif;
            font-size: 1.6rem;
            display: block;
        }

        .value-label {
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Controles */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--dourado) 0%, #cc9900 100%);
            color: #000;
            box-shadow: 0 5px 20px rgba(255, 198, 0, 0.4);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 198, 0, 0.6);
        }

        .btn-red {
            background: linear-gradient(135deg, var(--vermelho) 0%, var(--vermelho-escuro) 100%);
            color: var(--branco);
            box-shadow: 0 5px 20px rgba(230, 57, 70, 0.4);
        }

        .btn-red:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(230, 57, 70, 0.6);
        }

        .btn-blue {
            background: linear-gradient(135deg, var(--azul-time) 0%, var(--azul-time-escuro) 100%);
            color: var(--branco);
            box-shadow: 0 5px 20px rgba(0, 119, 182, 0.4);
        }

        .btn-blue:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 119, 182, 0.6);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--verde) 0%, #1a8f4a 100%);
            color: var(--branco);
        }

        .btn-success:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(46, 204, 113, 0.5);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #a71d2a 100%);
            color: var(--branco);
        }

        .btn-danger:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(220, 53, 69, 0.5);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            color: var(--branco);
        }

        .btn-secondary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(108, 117, 125, 0.5);
        }

        .btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Se√ß√£o de sele√ß√£o de time */
        .team-selection {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            margin: 30px 0;
            padding: 30px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 20px;
            border: 2px solid var(--dourado);
        }

        .team-selection.active {
            display: flex;
            animation: fade-in 0.3s ease-out;
        }

        @keyframes fade-in {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        .team-selection-title {
            font-family: 'Russo One', sans-serif;
            font-size: 2rem;
            color: var(--dourado);
            text-align: center;
            animation: pulse-text 1s ease-in-out infinite;
        }

        @keyframes pulse-text {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .team-selection-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
        }

        .team-buttons {
            display: flex;
            gap: 40px;
        }

        .team-btn {
            padding: 25px 50px;
            border-radius: 20px;
            font-family: 'Russo One', sans-serif;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 4px solid transparent;
        }

        .team-btn:hover {
            transform: scale(1.1);
        }

        .team-btn.red {
            background: linear-gradient(135deg, var(--vermelho) 0%, var(--vermelho-escuro) 100%);
            color: white;
            border-color: var(--vermelho);
            box-shadow: 0 0 30px rgba(230, 57, 70, 0.5);
        }

        .team-btn.red:hover {
            box-shadow: 0 0 50px rgba(230, 57, 70, 0.8);
        }

        .team-btn.blue {
            background: linear-gradient(135deg, var(--azul-time) 0%, var(--azul-time-escuro) 100%);
            color: white;
            border-color: var(--azul-time);
            box-shadow: 0 0 30px rgba(0, 119, 182, 0.5);
        }

        .team-btn.blue:hover {
            box-shadow: 0 0 50px rgba(0, 119, 182, 0.8);
        }

        /* Valida√ß√£o de resposta */
        .validation-section {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
            padding: 25px;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            border: 2px solid var(--dourado);
        }

        .validation-section.active {
            display: flex;
            animation: fade-in 0.3s ease-out;
        }

        .validation-title {
            font-family: 'Russo One', sans-serif;
            font-size: 1.5rem;
            color: var(--branco);
        }

        .validation-buttons {
            display: flex;
            gap: 30px;
        }

        /* Estat√≠sticas */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            margin-top: 15px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-family: 'Russo One', sans-serif;
            font-size: 1.3rem;
            color: var(--dourado);
        }

        .stat-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.7);
            letter-spacing: 1px;
        }

        /* Anima√ß√£o de confete */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            top: -10px;
            animation: confetti-fall 3s linear forwards;
            z-index: 2000;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Overlay de resultado */
        .result-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            flex-direction: column;
        }

        .result-overlay.active {
            display: flex;
        }

        .result-team {
            font-family: 'Russo One', sans-serif;
            font-size: 4rem;
            margin-bottom: 20px;
            animation: result-appear 0.5s ease-out;
        }

        .result-team.red {
            color: var(--vermelho);
            text-shadow: 0 0 50px rgba(230, 57, 70, 0.8);
        }

        .result-team.blue {
            color: var(--azul-time);
            text-shadow: 0 0 50px rgba(0, 119, 182, 0.8);
        }

        @keyframes result-appear {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .result-message {
            font-size: 2rem;
            color: var(--branco);
            margin-bottom: 30px;
        }

        /* Bot√£o de √°udio */
        .audio-control {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 100;
        }

        .audio-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(255, 198, 0, 0.9);
            border: none;
            cursor: pointer;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .audio-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 198, 0, 0.5);
        }

        /* Responsivo */
        @media (max-width: 900px) {
            .logo-img { max-width: 200px; }
            .team-points { font-size: 2.5rem; }
            .timer-display { font-size: 2.5rem; }
            .question-text { font-size: 1.4rem; }
            .options-container { grid-template-columns: 1fr; }
            .option-text { font-size: 1.1rem; }
            .scoreboard { flex-direction: column; gap: 15px; }
            .team-buttons { flex-direction: column; gap: 20px; }
        }

        /* Estado de leitura (aguardando equipe apertar) */
        .reading-state .options-container {
            pointer-events: none;
        }

        .reading-state .option {
            cursor: default;
        }

        /* Indicador de status do jogo */
        .game-phase {
            position: fixed;
            top: 15px;
            left: 15px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            color: var(--dourado);
            z-index: 100;
            border: 1px solid var(--dourado);
        }
    </style>
</head>
<body>
    <!-- Part√≠culas de fundo -->
    <div class="particles" id="particles"></div>

    <!-- Indicador de fase -->
    <div class="game-phase" id="gamePhase">üìñ AGUARDANDO</div>

    <!-- Controle de √°udio -->
    <div class="audio-control">
        <button class="audio-btn" id="audioBtn" onclick="toggleAudio()">üîá</button>
    </div>

    <!-- √Åudios -->
    <audio id="audioAbertura" src="Abertura (Inicio do Jogo).mp3" loop></audio>
    <audio id="audioPergunta" src="Pergunta.mp3"></audio>
    <audio id="audioAcerto" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>
    <audio id="audioErro" src="https://assets.mixkit.co/active_storage/sfx/2955/2955-preview.mp3"></audio>
    <audio id="audioBuzzer" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"></audio>
    <audio id="audioTick" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>

    <!-- Header com Logo -->
    <header class="header">
        <img src="logo.webp" alt="Passa ou Repassa" class="logo-img" id="logoImg">
    </header>

    <!-- Container principal -->
    <main class="main-container" id="gameContainer">
        <!-- Placar -->
        <div class="scoreboard">
            <div class="team-score team-red" id="teamRed">
                <h2 class="team-name">üî¥ Time Vermelho</h2>
                <div class="team-points" id="scoreRed">0</div>
            </div>

            <div class="timer-container">
                <div class="timer-label">TEMPO</div>
                <div class="timer-display" id="timerDisplay">30</div>
            </div>

            <div class="team-score team-blue" id="teamBlue">
                <h2 class="team-name">üîµ Time Azul</h2>
                <div class="team-points" id="scoreBlue">0</div>
            </div>
        </div>

        <!-- √Årea da pergunta -->
        <div class="question-area">
            <div class="question-header">
                <span class="question-number" id="questionNumber">PERGUNTA 0 DE 0</span>
                <span class="question-status" id="questionStatus">AGUARDANDO</span>
            </div>
            <div class="question-text" id="questionText">
                Pressione "NOVA PERGUNTA" para come√ßar o jogo!
            </div>
        </div>

        <!-- Op√ß√µes -->
        <div class="options-container" id="optionsContainer">
            <button class="option" id="option1" onclick="selectOption(0)">
                <span class="option-number">1</span>
                <span class="option-text">-</span>
            </button>
            <button class="option" id="option2" onclick="selectOption(1)">
                <span class="option-number">2</span>
                <span class="option-text">-</span>
            </button>
            <button class="option" id="option3" onclick="selectOption(2)">
                <span class="option-number">3</span>
                <span class="option-text">-</span>
            </button>
            <button class="option" id="option4" onclick="selectOption(3)">
                <span class="option-number">4</span>
                <span class="option-text">-</span>
            </button>
        </div>

        <!-- Sele√ß√£o de Time (aparece ap√≥s alternativas) -->
        <div class="team-selection" id="teamSelection">
            <div class="team-selection-title">üéØ QUAL EQUIPE APERTOU O BOT√ÉO?</div>
            <div class="team-selection-subtitle">Selecione a equipe que respondeu primeiro</div>
            <div class="team-buttons">
                <button class="team-btn red" onclick="selectTeam('red')">
                    üî¥ TIME VERMELHO
                </button>
                <button class="team-btn blue" onclick="selectTeam('blue')">
                    üîµ TIME AZUL
                </button>
            </div>
        </div>

        <!-- Valida√ß√£o de Resposta -->
        <div class="validation-section" id="validationSection">
            <div class="validation-title" id="validationTitle">A resposta est√° correta?</div>
            <div class="validation-buttons">
                <button class="btn btn-success" onclick="validateAnswer(true)">
                    ‚úÖ CORRETO (+100 pts)
                </button>
                <button class="btn btn-danger" onclick="validateAnswer(false)">
                    ‚ùå ERRADO (-50 pts)
                </button>
            </div>
        </div>

        <!-- Valores -->
        <div class="values-panel">
            <div class="value-box">
                <span class="value-amount">-50</span>
                <span class="value-label">Errar</span>
            </div>
            <div class="value-box">
                <span class="value-amount">0</span>
                <span class="value-label">Passar</span>
            </div>
            <div class="value-box">
                <span class="value-amount">+100</span>
                <span class="value-label">Acertar</span>
            </div>
        </div>

        <!-- Controles -->
        <div class="controls" id="mainControls">
            <button class="btn btn-primary" id="btnNewQuestion" onclick="newQuestion()">
                üé≤ Nova Pergunta
            </button>
            <button class="btn btn-secondary" id="btnPass" onclick="passToOtherTeam()" disabled>
                ‚û°Ô∏è Passar
            </button>
            <button class="btn btn-danger" id="btnReset" onclick="resetGame()">
                üîÑ Reiniciar
            </button>
        </div>

        <!-- Estat√≠sticas -->
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-value" id="statRemaining">0</div>
                <div class="stat-label">Restantes</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="statAnswered">0</div>
                <div class="stat-label">Respondidas</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="statRound">1</div>
                <div class="stat-label">Rodada</div>
            </div>
        </div>
    </main>

    <!-- Overlay de resultado final -->
    <div class="result-overlay" id="resultOverlay">
        <div class="result-team" id="resultTeam">TIME VERMELHO</div>
        <div class="result-message" id="resultMessage">VENCEU!</div>
        <button class="btn btn-primary" onclick="closeResult()">Continuar</button>
    </div>

    <script>
        // ==================== CONFIGURA√á√ïES ====================
        const CONFIG = {
            timerDuration: 30,
            pointsCorrect: 100,
            pointsWrong: -50,
            optionDelay: 1200, // Delay entre cada alternativa (ms)
            questionReadDelay: 2000 // Delay ap√≥s mostrar a pergunta antes das alternativas
        };

        // ==================== ESTADO DO JOGO ====================
        let gameState = {
            questions: [],
            currentQuestion: null,
            currentQuestionIndex: 0,
            totalQuestions: 0,
            answeredQuestions: 0,
            round: 1,
            scores: { red: 0, blue: 0 },
            currentTeam: null,
            phase: 'idle', // idle, reading, waiting_team, answering, validating
            timer: null,
            timeLeft: CONFIG.timerDuration,
            audioEnabled: false,
            selectedOption: null,
            canPass: true
        };

        // ==================== ELEMENTOS DOM ====================
        const elements = {
            questionText: document.getElementById('questionText'),
            questionNumber: document.getElementById('questionNumber'),
            questionStatus: document.getElementById('questionStatus'),
            timerDisplay: document.getElementById('timerDisplay'),
            scoreRed: document.getElementById('scoreRed'),
            scoreBlue: document.getElementById('scoreBlue'),
            teamRed: document.getElementById('teamRed'),
            teamBlue: document.getElementById('teamBlue'),
            optionsContainer: document.getElementById('optionsContainer'),
            teamSelection: document.getElementById('teamSelection'),
            validationSection: document.getElementById('validationSection'),
            validationTitle: document.getElementById('validationTitle'),
            resultOverlay: document.getElementById('resultOverlay'),
            btnNewQuestion: document.getElementById('btnNewQuestion'),
            btnPass: document.getElementById('btnPass'),
            statRemaining: document.getElementById('statRemaining'),
            statAnswered: document.getElementById('statAnswered'),
            statRound: document.getElementById('statRound'),
            audioBtn: document.getElementById('audioBtn'),
            gamePhase: document.getElementById('gamePhase'),
            gameContainer: document.getElementById('gameContainer')
        };

        const audios = {
            abertura: document.getElementById('audioAbertura'),
            pergunta: document.getElementById('audioPergunta'),
            acerto: document.getElementById('audioAcerto'),
            erro: document.getElementById('audioErro'),
            buzzer: document.getElementById('audioBuzzer'),
            tick: document.getElementById('audioTick')
        };

        // ==================== INICIALIZA√á√ÉO ====================
        async function init() {
            createParticles();
            await loadQuestions();
            updateUI();
            hideAllOptions();
        }

        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 40; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                container.appendChild(particle);
            }
        }

        async function loadQuestions() {
            try {
                const response = await fetch('perguntas.json');
                const data = await response.json();
                
                gameState.questions = data.map((item, index) => {
                    const parsed = parseQuestion(item.texto);
                    return { id: index, ...parsed };
                });
                
                shuffleArray(gameState.questions);
                gameState.totalQuestions = gameState.questions.length;
                
                elements.statRemaining.textContent = gameState.questions.length;
                elements.questionNumber.textContent = `PERGUNTA 0 DE ${gameState.totalQuestions}`;
                
            } catch (error) {
                console.error('Erro ao carregar perguntas:', error);
                elements.questionText.textContent = 'Erro ao carregar perguntas!';
            }
        }

        function parseQuestion(texto) {
            const lines = texto.split('\n').filter(l => l.trim());
            const hasOptions = texto.match(/[A-D]\)/g);
            
            if (hasOptions && hasOptions.length >= 2) {
                const questionMatch = texto.match(/^([\s\S]*?)(?=\n?[A-D]\))/);
                const question = questionMatch ? questionMatch[1].trim() : texto;
                
                const options = [];
                const optionMatches = texto.matchAll(/([A-D])\)\s*([^\n]+)/g);
                for (const match of optionMatches) {
                    options.push(match[2].trim());
                }
                
                return {
                    text: question,
                    options: options.length >= 2 ? options : [],
                    hasOptions: true
                };
            } else if (texto.toLowerCase().includes('verdadeiro ou falso')) {
                return {
                    text: texto,
                    options: ['Verdadeiro', 'Falso'],
                    hasOptions: true
                };
            } else {
                return {
                    text: texto,
                    options: [],
                    hasOptions: false
                };
            }
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // ==================== CONTROLE DE √ÅUDIO ====================
        function toggleAudio() {
            gameState.audioEnabled = !gameState.audioEnabled;
            elements.audioBtn.textContent = gameState.audioEnabled ? 'üîä' : 'üîá';
            
            if (gameState.audioEnabled) {
                audios.abertura.play().catch(() => {});
            } else {
                audios.abertura.pause();
            }
        }

        function playSound(soundName) {
            if (gameState.audioEnabled && audios[soundName]) {
                audios[soundName].currentTime = 0;
                audios[soundName].play().catch(() => {});
            }
        }

        // ==================== FLUXO DO JOGO ====================
        
        // 1. Nova pergunta
        async function newQuestion() {
            if (gameState.questions.length === 0) {
                endGame();
                return;
            }

            // Reset estado
            gameState.currentTeam = null;
            gameState.selectedOption = null;
            gameState.canPass = true;
            gameState.phase = 'reading';
            
            // Esconde se√ß√µes
            elements.teamSelection.classList.remove('active');
            elements.validationSection.classList.remove('active');
            elements.btnPass.disabled = true;
            elements.btnNewQuestion.disabled = true;
            
            // Limpa times ativos
            elements.teamRed.classList.remove('active');
            elements.teamBlue.classList.remove('active');
            
            // Pega pr√≥xima pergunta
            gameState.currentQuestion = gameState.questions.shift();
            gameState.currentQuestionIndex++;
            
            // Esconde op√ß√µes
            hideAllOptions();
            resetOptionsStyle();
            
            // Atualiza UI
            updatePhase('üìñ LENDO PERGUNTA');
            elements.questionStatus.textContent = 'LEIA A PERGUNTA';
            elements.questionNumber.textContent = `PERGUNTA ${gameState.currentQuestionIndex} DE ${gameState.totalQuestions}`;
            
            // Mostra pergunta com anima√ß√£o
            elements.questionText.textContent = gameState.currentQuestion.text;
            elements.questionText.classList.add('typing');
            
            playSound('pergunta');
            
            // Aguarda leitura da pergunta
            await delay(CONFIG.questionReadDelay);
            
            elements.questionText.classList.remove('typing');
            
            // Mostra alternativas uma por uma (se tiver)
            if (gameState.currentQuestion.hasOptions && gameState.currentQuestion.options.length > 0) {
                await showOptionsSequentially();
            }
            
            // Ap√≥s mostrar tudo, aguarda equipe apertar bot√£o
            showTeamSelection();
        }

        // 2. Mostra op√ß√µes sequencialmente
        async function showOptionsSequentially() {
            const options = document.querySelectorAll('.option');
            const questionOptions = gameState.currentQuestion.options;
            
            for (let i = 0; i < 4; i++) {
                if (i < questionOptions.length) {
                    options[i].style.display = 'flex';
                    options[i].querySelector('.option-text').textContent = questionOptions[i];
                    
                    // Anima√ß√£o de entrada
                    await delay(100);
                    options[i].classList.add('visible');
                    playSound('tick');
                    
                    // Delay entre alternativas
                    await delay(CONFIG.optionDelay);
                } else {
                    options[i].style.display = 'none';
                }
            }
        }

        // 3. Mostra sele√ß√£o de time
        function showTeamSelection() {
            gameState.phase = 'waiting_team';
            updatePhase('üéØ AGUARDANDO EQUIPE');
            elements.questionStatus.textContent = 'QUEM APERTOU?';
            elements.teamSelection.classList.add('active');
        }

        // 4. Seleciona time que apertou
        function selectTeam(team) {
            gameState.currentTeam = team;
            gameState.phase = 'answering';
            
            // Esconde sele√ß√£o de time
            elements.teamSelection.classList.remove('active');
            
            // Destaca time selecionado
            if (team === 'red') {
                elements.teamRed.classList.add('active');
                elements.teamBlue.classList.remove('active');
                updatePhase('üî¥ TIME VERMELHO');
            } else {
                elements.teamBlue.classList.add('active');
                elements.teamRed.classList.remove('active');
                updatePhase('üîµ TIME AZUL');
            }
            
            elements.questionStatus.textContent = team === 'red' ? 'VEZ DO VERMELHO' : 'VEZ DO AZUL';
            
            playSound('buzzer');
            
            // Habilita passar
            elements.btnPass.disabled = false;
            
            // Inicia timer
            startTimer();
        }

        // 5. Seleciona op√ß√£o (clicando na alternativa)
        function selectOption(index) {
            if (gameState.phase !== 'answering' || !gameState.currentTeam) return;
            
            gameState.selectedOption = index;
            
            // Marca op√ß√£o selecionada visualmente
            const options = document.querySelectorAll('.option');
            options.forEach((opt, i) => {
                opt.classList.remove('selected');
                if (i === index) {
                    opt.classList.add('selected');
                }
            });
            
            // Para timer e mostra valida√ß√£o
            stopTimer();
            showValidation();
        }

        // 6. Mostra se√ß√£o de valida√ß√£o
        function showValidation() {
            gameState.phase = 'validating';
            updatePhase('‚è≥ VALIDANDO');
            elements.questionStatus.textContent = 'RESPOSTA CORRETA?';
            elements.validationSection.classList.add('active');
            elements.btnPass.disabled = true;
            
            const teamName = gameState.currentTeam === 'red' ? 'TIME VERMELHO' : 'TIME AZUL';
            elements.validationTitle.textContent = `${teamName} - A resposta est√° correta?`;
        }

        // 7. Valida resposta
        function validateAnswer(isCorrect) {
            const options = document.querySelectorAll('.option');
            
            if (gameState.selectedOption !== null && options[gameState.selectedOption]) {
                if (isCorrect) {
                    options[gameState.selectedOption].classList.add('correct');
                } else {
                    options[gameState.selectedOption].classList.add('wrong');
                }
            }
            
            if (isCorrect) {
                gameState.scores[gameState.currentTeam] += CONFIG.pointsCorrect;
                playSound('acerto');
                createConfetti();
                showResultMessage(gameState.currentTeam, `ACERTOU! +${CONFIG.pointsCorrect} pontos`, true);
            } else {
                gameState.scores[gameState.currentTeam] += CONFIG.pointsWrong;
                playSound('erro');
                showResultMessage(gameState.currentTeam, `ERROU! ${CONFIG.pointsWrong} pontos`, false);
            }
            
            gameState.answeredQuestions++;
            updateScores();
            updateStats();
            finishQuestion();
        }

        // 8. Passar para outro time
        function passToOtherTeam() {
            if (!gameState.canPass || gameState.phase !== 'answering') return;
            
            gameState.canPass = false;
            stopTimer();
            
            // Troca de time
            const otherTeam = gameState.currentTeam === 'red' ? 'blue' : 'red';
            gameState.currentTeam = otherTeam;
            
            // Atualiza visual
            if (otherTeam === 'red') {
                elements.teamRed.classList.add('active');
                elements.teamBlue.classList.remove('active');
                updatePhase('üî¥ PASSOU - VERMELHO');
            } else {
                elements.teamBlue.classList.add('active');
                elements.teamRed.classList.remove('active');
                updatePhase('üîµ PASSOU - AZUL');
            }
            
            elements.questionStatus.textContent = otherTeam === 'red' ? 'VEZ DO VERMELHO' : 'VEZ DO AZUL';
            elements.btnPass.disabled = true;
            
            playSound('buzzer');
            
            // Reinicia timer
            startTimer();
        }

        // 9. Finaliza pergunta
        function finishQuestion() {
            gameState.phase = 'idle';
            updatePhase('‚úÖ FINALIZADO');
            
            elements.validationSection.classList.remove('active');
            elements.teamSelection.classList.remove('active');
            elements.teamRed.classList.remove('active');
            elements.teamBlue.classList.remove('active');
            elements.btnNewQuestion.disabled = false;
            elements.btnPass.disabled = true;
            
            stopTimer();
            resetTimer();
        }

        // ==================== TIMER ====================
        function startTimer() {
            gameState.timeLeft = CONFIG.timerDuration;
            updateTimerDisplay();
            
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                updateTimerDisplay();
                
                if (gameState.timeLeft <= 5) {
                    playSound('tick');
                }
                
                if (gameState.timeLeft <= 0) {
                    clearInterval(gameState.timer);
                    timeUp();
                }
            }, 1000);
        }

        function stopTimer() {
            if (gameState.timer) {
                clearInterval(gameState.timer);
                gameState.timer = null;
            }
        }

        function resetTimer() {
            gameState.timeLeft = CONFIG.timerDuration;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            elements.timerDisplay.textContent = gameState.timeLeft;
            elements.timerDisplay.classList.remove('warning', 'danger');
            
            if (gameState.timeLeft <= 5) {
                elements.timerDisplay.classList.add('danger');
            } else if (gameState.timeLeft <= 10) {
                elements.timerDisplay.classList.add('warning');
            }
        }

        function timeUp() {
            playSound('erro');
            gameState.scores[gameState.currentTeam] += CONFIG.pointsWrong;
            updateScores();
            showResultMessage(gameState.currentTeam, 'TEMPO ESGOTADO! -50 pontos', false);
            gameState.answeredQuestions++;
            updateStats();
            finishQuestion();
        }

        // ==================== UI HELPERS ====================
        function hideAllOptions() {
            const options = document.querySelectorAll('.option');
            options.forEach(opt => {
                opt.classList.remove('visible');
                opt.style.display = 'none';
            });
        }

        function resetOptionsStyle() {
            const options = document.querySelectorAll('.option');
            options.forEach(opt => {
                opt.classList.remove('correct', 'wrong', 'selected');
            });
        }

        function updatePhase(text) {
            elements.gamePhase.textContent = text;
        }

        function updateScores() {
            elements.scoreRed.textContent = gameState.scores.red;
            elements.scoreBlue.textContent = gameState.scores.blue;
        }

        function updateStats() {
            elements.statRemaining.textContent = gameState.questions.length;
            elements.statAnswered.textContent = gameState.answeredQuestions;
            elements.statRound.textContent = gameState.round;
        }

        function updateUI() {
            updateScores();
            updateStats();
            elements.timerDisplay.textContent = CONFIG.timerDuration;
        }

        function showResultMessage(team, message, isPositive) {
            const overlay = elements.resultOverlay;
            const teamEl = document.getElementById('resultTeam');
            const messageEl = document.getElementById('resultMessage');
            
            teamEl.textContent = team === 'red' ? 'üî¥ TIME VERMELHO' : 'üîµ TIME AZUL';
            teamEl.className = `result-team ${team}`;
            messageEl.textContent = message;
            messageEl.style.color = isPositive ? 'var(--verde)' : 'var(--vermelho)';
            
            overlay.classList.add('active');
        }

        function closeResult() {
            elements.resultOverlay.classList.remove('active');
        }

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // ==================== EFEITOS ====================
        function createConfetti() {
            const colors = ['#ffc600', '#e63946', '#0077b6', '#2ecc71', '#9b59b6', '#fff'];
            
            for (let i = 0; i < 80; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = (5 + Math.random() * 10) + 'px';
                    confetti.style.height = (5 + Math.random() * 10) + 'px';
                    confetti.style.animationDuration = (2 + Math.random() * 2) + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 4000);
                }, i * 25);
            }
        }

        // ==================== RESET ====================
        function resetGame() {
            if (!confirm('Tem certeza que deseja reiniciar o jogo?')) return;
            
            stopTimer();
            
            gameState = {
                questions: [],
                currentQuestion: null,
                currentQuestionIndex: 0,
                totalQuestions: 0,
                answeredQuestions: 0,
                round: 1,
                scores: { red: 0, blue: 0 },
                currentTeam: null,
                phase: 'idle',
                timer: null,
                timeLeft: CONFIG.timerDuration,
                audioEnabled: gameState.audioEnabled,
                selectedOption: null,
                canPass: true
            };
            
            elements.teamSelection.classList.remove('active');
            elements.validationSection.classList.remove('active');
            elements.resultOverlay.classList.remove('active');
            elements.teamRed.classList.remove('active');
            elements.teamBlue.classList.remove('active');
            elements.btnNewQuestion.disabled = false;
            elements.btnPass.disabled = true;
            
            hideAllOptions();
            resetOptionsStyle();
            loadQuestions();
            updateUI();
            updatePhase('üìñ AGUARDANDO');
            
            elements.questionText.textContent = 'Jogo reiniciado! Pressione "NOVA PERGUNTA" para come√ßar.';
            elements.questionStatus.textContent = 'AGUARDANDO';
        }

        function endGame() {
            const winner = gameState.scores.red > gameState.scores.blue ? 'red' : 
                          gameState.scores.blue > gameState.scores.red ? 'blue' : null;
            
            if (winner) {
                showResultMessage(winner, 'VENCEDOR DO JOGO!', true);
                createConfetti();
            } else {
                elements.resultOverlay.classList.add('active');
                document.getElementById('resultTeam').textContent = 'üèÜ';
                document.getElementById('resultTeam').className = 'result-team';
                document.getElementById('resultMessage').textContent = 'EMPATE!';
            }
            
            elements.questionText.textContent = 'FIM DO JOGO! Todas as perguntas foram respondidas.';
            updatePhase('üèÅ FIM DE JOGO');
        }

        // ==================== TECLADO ====================
        document.addEventListener('keydown', (e) => {
            const key = e.key;
            
            // Espa√ßo para nova pergunta
            if (key === ' ' && !elements.btnNewQuestion.disabled) {
                e.preventDefault();
                newQuestion();
            }
            
            // Enter para fechar resultado
            if (key === 'Enter' && elements.resultOverlay.classList.contains('active')) {
                closeResult();
            }
            
            // Teclas 1-4 para selecionar op√ß√£o
            if (['1', '2', '3', '4'].includes(key) && gameState.phase === 'answering') {
                const index = parseInt(key) - 1;
                const option = document.querySelectorAll('.option')[index];
                if (option && option.classList.contains('visible')) {
                    selectOption(index);
                }
            }
        });

        // ==================== INICIAR ====================
        init();
    </script>
</body>
</html>
